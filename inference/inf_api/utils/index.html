<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>inference.utils API documentation</title>
<meta name="description" content="utils:
Utilities for the inference package" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>inference.utils</code></h1>
</header>
<section id="section-intro">
<p>utils:
Utilities for the inference package</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
utils:  Utilities for the inference package
&#34;&#34;&#34;

from . import numutils
from .numutils import *
from . import ioutils
from .ioutils import *
from . import rng
from .rng import *
from .pl import pl
from .plot_bivar import plot_bivar

# TODO:  Remove dependence on nrmin (in PIE).
from . import nrmin

__version__ = &#39;0.1&#39;

__all__ = [&#39;numutils&#39;, &#39;ioutils&#39;, &#39;rng&#39;, &#39;pl&#39;, &#39;plot_bivar&#39;, &#39;nrmin&#39;]</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="inference.utils.ioutils" href="ioutils.html">inference.utils.ioutils</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="inference.utils.nrmin" href="nrmin.html">inference.utils.nrmin</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="inference.utils.numutils" href="numutils.html">inference.utils.numutils</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="inference.utils.pl" href="pl.html">inference.utils.pl</a></code></dt>
<dd>
<div class="desc"><p>pl:
Pylab plotting module interface module for the inference package â€¦</p></div>
</dd>
<dt><code class="name"><a title="inference.utils.rng" href="rng.html">inference.utils.rng</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="inference.utils.setup" href="setup.html">inference.utils.setup</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="inference.utils.plot_bivar"><code class="name flex">
<span>def <span class="ident">plot_bivar</span></span>(<span>x, y, logpdf, iorder='xy', levels=None, plevels=None, cross=None, xlabel='X', ylabel='Y', lw=1, colors=('blue', 'darkgreen', 'firebrick', 'saddlebrown', 'dimgray', 'k', 'k', 'k', 'k', 'k'), gscale=False, gscale_bar=False, clabel=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Plot contours (and optionally a grayscale image and crosshairs) using a
2-D grid of values of a function evaluated on linearly spaced grids in
x and y.
Default contour levels are suitable for functions interpretable
as a bivariate log-pdf with approximately normal contour levels; the hpd
and hpdgrid modules provide tools for calculating levels accurately
normalized over the grid.</p>
<p><code>iorder</code> specifies the index order for the <code>logpdf</code> array.
If it is 'xy',
the <code>logpdf</code> array is interpreted so that logpdf[i,j] is the value for
(x[i], y[j]).
Note that this means that x increases along <em>columns</em>
(different choices of row, i).
This is the reverse interpretation
of Matplotlib's contour and imshow; we use a transposed view of logpdf
for the plotting.
If <code>iorder</code> is 'yx', logpdf[i,j] is the value for
(y[i], x[j]).</p>
<p>If <code>gscale</code> is not False, it should be a float specifying a factor used
to set the lower limit (black level) for a grayscale image.
The factor
multiplies the lowest value of <code>levels</code>.
E.g., gscale=10 will produce
an image with the noticeable gray values highlighting the "tails" of
<code>logpdf</code> (values below the lowest contour).
For backward compatibility,
using gscale=True corresponds to gscale=10.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def plot_bivar(x, y, logpdf, iorder=&#39;xy&#39;, levels=None, plevels=None, cross=None,
               xlabel=&#39;X&#39;, ylabel=&#39;Y&#39;, lw=1, colors=colors, gscale=False,
               gscale_bar=False, clabel=False):
    &#34;&#34;&#34;
    Plot contours (and optionally a grayscale image and crosshairs) using a
    2-D grid of values of a function evaluated on linearly spaced grids in
    x and y.  Default contour levels are suitable for functions interpretable
    as a bivariate log-pdf with approximately normal contour levels; the hpd
    and hpdgrid modules provide tools for calculating levels accurately
    normalized over the grid.
    
    `iorder` specifies the index order for the `logpdf` array.  If it is &#39;xy&#39;,
    the `logpdf` array is interpreted so that logpdf[i,j] is the value for
    (x[i], y[j]).  Note that this means that x increases along *columns*
    (different choices of row, i).  This is the reverse interpretation
    of Matplotlib&#39;s contour and imshow; we use a transposed view of logpdf
    for the plotting.  If `iorder` is &#39;yx&#39;, logpdf[i,j] is the value for
    (y[i], x[j]).

    If `gscale` is not False, it should be a float specifying a factor used
    to set the lower limit (black level) for a grayscale image.  The factor
    multiplies the lowest value of `levels`.  E.g., gscale=10 will produce
    an image with the noticeable gray values highlighting the &#34;tails&#34; of
    `logpdf` (values below the lowest contour).  For backward compatibility,
    using gscale=True corresponds to gscale=10. 
    &#34;&#34;&#34;
    # *** Add args to handle chi**2 input; internally convert to log-like.
    # This is based on Matplotlib&#39;s contour_demo.py
    xg, yg = meshgrid(x, y)
    xlo, xhi = xg[0,0], xg[0,-1]
    ylo, yhi = yg[0,0], yg[-1,0]
    if iorder==&#39;xy&#39;:
        logpdf = logpdf.transpose()
    elif iorder != &#39;yx&#39;:
        raise ValueError(&#39;Illegal iorder!&#39;)
    logmax = logpdf.max()
    dlogpdf = logpdf - logmax
    if levels is None:
        if plevels is None:
            # Base levels on bivariate normal.
            levels = -0.5 * chisqr_2.ppf(normal_plevels6)
        else:
            levels = -0.5 * chisqr_2.ppf(plevels)
    else:
        # Treat levels as *absolute* levels (not relative to max).
        levels = array(levels) - logmax

    # Plot a grayscale image displaying tails beyond the lowest level.
    if gscale:
        if gscale is True:
            gscale = 10.
        lo, hi = gscale*levels.min(), 0.
        im = pl.imshow(dlogpdf, interpolation=&#39;bilinear&#39;, origin=&#39;lower&#39;, aspect=&#39;auto&#39;,
                    vmin=lo, vmax=hi, cmap=pl.cm.gray, extent=(xlo, xhi, ylo, yhi))

    # Plot contours on top.
    cset = pl.contour(xg, yg, dlogpdf, levels, colors=colors, origin=&#39;lower&#39;,
        linewidths=lw)

    if clabel:
        pl.clabel(cset, fmt=&#39;%1.2f&#39;, inline=1, fontsize=10)

    # Make a colorbar for the contour lines.
    #CB = colorbar(cset, shrink=0.6, extend=&#39;both&#39;)

    #title(&#39;Doublet Periodogram&#39;)
    pl.xlabel(xlabel)
    pl.ylabel(ylabel)
    #hot()  # Now change the colormap for the contour lines and colorbar
    #flag()

    # We can still add a colorbar for the image, too.
    if gscale and gscale_bar:
        CBI = pl.colorbar(im, orientation=&#39;horizontal&#39;, fraction=.1, shrink=0.8)

    if cross:
        xc, yc = cross
        xlo, xhi = xlim()
        ylo, yhi = ylim()
        pl.hlines(yc, xlo, xhi, &#39;teal&#39;)
        pl.vlines(xc, ylo, yhi, &#39;teal&#39;)
    # This makes the original colorbar look a bit out of place,
    # so let&#39;s improve its position.
    #l,b,w,h = gca().get_position().bounds
    #ll,bb,ww,hh = CB.ax.get_position().bounds
    #CB.ax.set_position([ll, b+0.1*h, ww, h*0.8])

    # Use a coordinate formatter that shows the z value in interactive plots.
    # *** This assumes a linearly spaced grid.
    def format_coord(x, y, xlo=xlo, xhi=xhi, ylo=ylo, yhi=yhi, data=dlogpdf):
        ny, nx = data.shape
        dx = (xhi-xlo)/(nx-1.)
        dy = (yhi-ylo)/(ny-1.)
        col = int((x-xlo)/dx+0.5)
        row = int((y-ylo)/dy+0.5)
        if col&gt;=0 and col&lt;nx and row&gt;=0 and row&lt;ny:
            z = data[row,col]
            return &#39;x=%1.4f, y=%1.4f, z=%1.4f&#39;%(x, y, z)
        else:
            return &#39;x=%1.4f, y=%1.4f&#39;%(x, y)

    pl.gca().format_coord = format_coord</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="inference" href="../index.html">inference</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="inference.utils.ioutils" href="ioutils.html">inference.utils.ioutils</a></code></li>
<li><code><a title="inference.utils.nrmin" href="nrmin.html">inference.utils.nrmin</a></code></li>
<li><code><a title="inference.utils.numutils" href="numutils.html">inference.utils.numutils</a></code></li>
<li><code><a title="inference.utils.pl" href="pl.html">inference.utils.pl</a></code></li>
<li><code><a title="inference.utils.rng" href="rng.html">inference.utils.rng</a></code></li>
<li><code><a title="inference.utils.setup" href="setup.html">inference.utils.setup</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="inference.utils.plot_bivar" href="#inference.utils.plot_bivar">plot_bivar</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>